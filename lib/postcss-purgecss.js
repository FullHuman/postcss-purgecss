"use strict";function _interopDefault(e){return e&&"object"==typeof e&&"default"in e?e.default:e}var path=_interopDefault(require("path")),postcss=_interopDefault(require("postcss")),Purgecss=_interopDefault(require("purgecss")),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},toConsumableArray=function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)},CONFIG_FILENAME="purgecss.config.js",ERROR_CONFIG_FILE_LOADING="Error loading the config file",loadConfigFile=function(e){var t=void 0===e?CONFIG_FILENAME:e,r=void 0;try{var o=path.resolve(process.cwd(),t);r=require(o)}catch(e){throw new Error(ERROR_CONFIG_FILE_LOADING+e.message)}return r},index=postcss.plugin("postcss-plugin-purgecss",function(e){return function(t,r){"string"!=typeof e&&void 0!==e||(e=loadConfigFile(e)),e.css&&e.css.length||(e.css=["__postcss_purgecss_placeholder"]);var o=new Purgecss(e);o.root=t;var n=o.options,s=n.content,i=n.extractors,c=s.filter(function(e){return"string"==typeof e}),u=s.filter(function(e){return"object"===(void 0===e?"undefined":_typeof(e))}),a=o.extractFileSelector(c,i),f=o.extractRawSelector(u,i),l=new Set([].concat(toConsumableArray(a),toConsumableArray(f)));o.getSelectorsCss(l),o.options.keyframes&&o.removeUnusedKeyframes(),o.options.fontFace&&o.removeUnusedFontFaces()}});module.exports=index;
